{"version":3,"sources":["CONST.jsx","App.jsx","serviceWorker.ts","index.tsx"],"names":["PIECES","ou","name","pointMove","lineMove","evolve","hisya","ryu","kaku","uma","kin","gin","nari-gin","kei","nari-kei","kyo","nari-kyo","fu","to","","WALL","A_SIDE","B_SIDE","STAND_BY","PICK_UP","Square","_this$props","this","props","piece","owner","to_move","toMove","react_default","a","createElement","className","concat","onClick","React","Component","Board","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","initAll","squares","initBoard","initGame","setState","selectedSquareNo","i","push","handleClick","console","log","_this$props2","player","phase","changePhase","changePlayer","state","slice","_squares$i","_PIECES$piece","clearAllToMove","getMoveList","map","square","getPointMoveList","filter","point","getLineMoveList","opponent","lineMoveList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","dict","value","position","lineMoveListPart","indexOf","toConsumableArray","err","return","pointMoveList","_this2","App_Square","key","_this3","squaress","rows","j","c","join","d","renderSquare","Game","_this4","_initGame","_changePlayer","_changePhase","newPhase","_this$state","App_Board","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.14491b50.chunk.js","sourcesContent":["export const PIECES = {\n    'ou':{\n      'name':'王',\n      'pointMove':[-12,-11,-10,-1,1,10,11,12],\n      'lineMove':[],\n      'evolve':''},\n    'hisya':{\n      'name':'飛',\n      'pointMove':[],\n      'lineMove':[-11,-1,1,11], \n      'evolve':'ryu'},\n    'ryu' : {\n      'name':'龍',\n      'pointMove':[-12,-10,10,12],\n      'lineMove':[-11,-1,1,11], \n      'evolve':''},\n    'kaku':{\n      'name':'角',\n      'pointMove':[],\n      'lineMove':[-12,-10,10,12], \n      'evolve':'uma'},\n    'uma' : {\n      'name':'馬',\n      'pointMove':[-11,-1,1,11],\n      'lineMove':[-12,-10,10,12], \n      'evolve':''},\n    'kin':{\n      'name':'金',\n      'pointMove':[-12,-11,-10,-1,1,11],\n      'lineMove':[], \n      'evolve':''},\n    'gin':{\n      'name':'銀',\n      'pointMove':[-12,-11,-10,10,12],\n      'lineMove':[], \n      'evolve':'nari-gin'},\n    'nari-gin':{\n      'name':'唫',\n      'pointMove':[-12,-11,-10,-1,1,11],\n      'lineMove':[], \n      'evolve':''},\n    'kei':{\n      'name':'桂',\n      'pointMove':[-23,-21],\n      'lineMove':[], \n      'evolve':'nari-kei'},\n    'nari-kei':{\n      'name':'珪',\n      'pointMove':[-12,-11,-10,-1,1,11],\n      'lineMove':[], \n      'evolve':''},\n    'kyo':{\n      'name':'香',\n      'pointMove':[],\n      'lineMove':[-11], \n      'evolve':'nari-kyo'},\n    'nari-kyo':{\n      'name':'薫',\n      'pointMove':[-12,-11,-10,-1,1,11],\n      'lineMove':[], \n      'evolve':''},\n    'fu':{\n      'name':'歩',\n      'pointMove':[-11],\n      'lineMove':[], \n      'evolve':'to'},\n    'to':{\n      'name':'と',\n      'pointMove':[-12,-11,-10,-1,1,11],\n      'lineMove':[], \n      'evolve':''},\n    '':{\n      'name':'',\n      'pointMove':[],\n      'lineMove':[], \n      'evolve':''},\n  }\n\nexport const WALL = [-12,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,11,22,33,44,55,66,77,88,99,110,21,32,43,54,65,76,87,98,109,111,112,113,114,115,116,117,118,119,120]","import React from 'react';\nimport './App.css';\nimport {PIECES, WALL} from \"./CONST.jsx\"\n\nconst A_SIDE='a_side';\nconst B_SIDE='b_side';\nconst STAND_BY = 'stand_by';\nconst PICK_UP = 'pick_up';\n\nclass Square extends React.Component {\n  render() {\n    const {piece,owner,toMove} = this.props //変更\n    let to_move=\"\"\n    if (toMove){to_move='to_move'}\n    return (\n      <button className={`square ${owner} ${to_move}`}  onClick={this.props.onClick}>\n        {PIECES[piece]['name']}\n      </button>\n    );\n  }\n}\n\nclass Board extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      squares: this.initBoard(), \n      selectedSquareNo:0\n    }\n  }\n  \n  initAll=()=>{\n    const squares = this.initBoard()\n    const selectedSquareNo = 0\n    const {initGame} = this.props\n    initGame()\n    this.setState({squares:squares,selectedSquareNo:selectedSquareNo})\n  }\n\n  initBoard=()=>{\n    const squares = []\n    for (let i=0;i<=120;i++){\n      squares.push({'piece':'','owner':'','toMove':false})\n    }\n    for (let i=78;i<=86;i++){\n      squares[i]={'piece':'fu','owner':A_SIDE,'toMove':false}\n    }\n    squares[90]={'piece':'kaku','owner':A_SIDE,'toMove':false}\n    squares[96]={'piece':'hisya','owner':A_SIDE,'toMove':false}\n    squares[100]={'piece':'kyo','owner':A_SIDE,'toMove':false}\n    squares[108]={'piece':'kyo','owner':A_SIDE,'toMove':false}\n    squares[101]={'piece':'kei','owner':A_SIDE,'toMove':false}\n    squares[107]={'piece':'kei','owner':A_SIDE,'toMove':false}\n    squares[102]={'piece':'gin','owner':A_SIDE,'toMove':false}\n    squares[106]={'piece':'gin','owner':A_SIDE,'toMove':false}\n    squares[103]={'piece':'kin','owner':A_SIDE,'toMove':false}\n    squares[105]={'piece':'kin','owner':A_SIDE,'toMove':false}\n    squares[104]={'piece':'ou','owner':A_SIDE,'toMove':false}\n    for (let i=34;i<=42;i++){\n      squares[i]={'piece':'fu','owner':B_SIDE,'toMove':false}\n    }\n    squares[30]={'piece':'kaku','owner':B_SIDE,'toMove':false}\n    squares[24]={'piece':'hisya','owner':B_SIDE,'toMove':false}\n    squares[12]={'piece':'kyo','owner':B_SIDE,'toMove':false}\n    squares[20]={'piece':'kyo','owner':B_SIDE,'toMove':false}\n    squares[13]={'piece':'kei','owner':B_SIDE,'toMove':false}\n    squares[19]={'piece':'kei','owner':B_SIDE,'toMove':false}\n    squares[14]={'piece':'gin','owner':B_SIDE,'toMove':false}\n    squares[18]={'piece':'gin','owner':B_SIDE,'toMove':false}\n    squares[15]={'piece':'kin','owner':B_SIDE,'toMove':false}\n    squares[17]={'piece':'kin','owner':B_SIDE,'toMove':false}\n    squares[16]={'piece':'ou','owner':B_SIDE,'toMove':false}\n    return squares\n  }\n  \n  handleClick=(i)=>{\n    console.log(i)\n    const {player,phase,changePlayer,changePhase}=this.props\n    const squares = this.state.squares.slice()\n    const {selectedSquareNo} = this.state\n    const {piece, owner, toMove} = squares[i]\n    const { pointMove, lineMove }= PIECES[piece]\n\n    this.clearAllToMove(squares)\n    switch(phase){\n      case STAND_BY:\n        if (owner===player){\n          this.getMoveList(i,pointMove,lineMove,squares,player,selectedSquareNo)\n        }\n        changePhase(PICK_UP)\n        break\n      case PICK_UP:\n        if (toMove){\n          squares[i]=squares[selectedSquareNo]\n          squares[selectedSquareNo]={'piece':'','owner':'','toMove':false}\n          this.setState({squares:squares})\n          changePhase(STAND_BY)\n        }else if(owner===player){\n          this.getMoveList(i,pointMove,lineMove,squares,player,selectedSquareNo)\n        }\n        break\n      default:\n        console.log('default')\n    }\n  }\n\n  clearAllToMove=(squares)=>{\n    squares.map(square=>{\n      return square['toMove']=false\n    })\n    this.setState({squares:squares})\n  }\n\n  getPointMoveList=(i,pointMove,squares,player)=>{\n    const pointMoveList=pointMove.filter(point=>{\n      return squares[i+point]['owner']!==player\n    })\n    return pointMoveList.map(point=>i+point)\n  }\n    \n  getLineMoveList=(i,lineMove,squares,player)=>{\n    let opponent = \"\"\n    player === A_SIDE ? opponent = B_SIDE : opponent = A_SIDE\n    let lineMoveList=[]\n    for (const dict of lineMove){\n      let position=i\n      let lineMoveListPart=[]\n      while(WALL.indexOf(position) === -1){\n        position+=dict\n        if(squares[position]['owner']===player){\n          break\n        }else if (squares[position]['owner']===opponent){\n          lineMoveListPart.push(position)\n          break\n        }\n        lineMoveListPart.push(position)\n      }\n    lineMoveList=[...lineMoveList,...lineMoveListPart]\n    }\n    return lineMoveList\n  }\n\n  getMoveList=(i,pointMove,lineMove,squares,player,selectedSquareNo)=>{\n    const pointMoveList = this.getPointMoveList(i,pointMove,squares,player)\n    const lineMoveList = this.getLineMoveList(i,lineMove,squares,player)\n    const toMoveList = [...pointMoveList, ...lineMoveList]\n    toMoveList.map(point=>{\n      return squares[point]['toMove']=true\n    })\n    this.setState({squares:squares, selectedSquareNo:i})\n  }\n\n  renderSquare(i) {\n    return <Square\n             piece={this.state.squares[i].piece}\n             owner={this.state.squares[i].owner}\n             toMove={this.state.squares[i].toMove}\n             onClick={()=>this.handleClick(i)}\n             key={i} \n           />;\n  }\n\n  render() {\n    const status = 'Next player: X';\n    const squaress = []\n    \n    for (let i=1;i<=9;i++){\n      let rows= []\n      for (let j=1;j<=9;j++){\n        rows.push(i*11+j)\n      }\n      squaress.push(rows);\n    }\n    \n    return (\n      <div>\n        <div className=\"status\">{status}</div>\n        <p>selected : {this.state.selectedSquareNo}</p>\n        {squaress.map(c=>{\n            return(\n              <div className=\"board-row\" key = {c.join()}>\n                {c.map(d=>{\n                  return(this.renderSquare(d))\n                })}\n              </div>)\n        })}\n        <br/>\n        <button onClick={()=>this.initAll()}>初期化</button>\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      player: A_SIDE, \n      phase: STAND_BY}\n  }\n\n  _initGame=()=>{\n    this.setState({player: A_SIDE, phase: STAND_BY})\n  }\n\n  _changePlayer=()=>{\n    let player = this.state\n    player===A_SIDE ? player=B_SIDE : player=A_SIDE\n    this.setState({player:player})\n  }\n\n  _changePhase=(newPhase)=>{\n    this.setState({phase:newPhase})\n  }\n\n  render() {\n    const{player,phase}=this.state\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board \n          player={player}\n          phase={phase}\n          changePlayer={this._changePlayer}\n          changePhase={this._changePhase}\n          initGame={this._initGame}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>player : {player}</div>\n          <div>phase : {phase}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Game from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Game />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}